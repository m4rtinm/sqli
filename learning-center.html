<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Aprendizaje SQLi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #111827;
            color: #f9fafb;
        }
        .font-fira { font-family: 'Fira Code', monospace; }
        
        /* Colores principales del laboratorio */
        .sql-blue { color: #569cd6; }
        .sql-green { color: #ce9178; }
        .sql-red { color: #ff6b6b; }
        .sql-gray { color: #6a9955; }
        
        /* Navegaci√≥n mejorada con tema oscuro */
        .learning-nav {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 0.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            border: 1px solid rgba(55, 65, 81, 0.5);
        }
        .learning-nav button {
            transition: all 0.3s ease;
            border-radius: 8px;
            font-weight: 500;
            padding: 0.75rem 1.25rem;
            border: none;
            cursor: pointer;
            background: transparent;
            color: #9ca3af;
            font-size: 0.9rem;
        }
        .learning-nav button:hover {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            transform: translateY(-1px);
        }
        .learning-nav button.active {
            background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(29, 78, 216, 0.3);
            transform: translateY(-2px);
        }
        
        /* Secciones con animaciones */
        .theory-section { 
            display: none; 
        }
        .theory-section.active { 
            display: block; 
            animation: slideInUp 0.5s ease-out;
        }
        
        /* Tarjetas del tema oscuro */
        .section-card {
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            padding: 2.5rem 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(55, 65, 81, 0.3);
            position: relative;
            overflow: hidden;
        }
        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #1d4ed8, #2563eb, #3b82f6);
        }
        
        /* T√≠tulos con gradientes oscuros */
        .section-title {
            font-size: 1.75rem;
            font-weight: 800;
            background: linear-gradient(135deg, #60a5fa 0%, #93c5fd 50%, #dbeafe 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        /* Mejoras de contraste para modo oscuro */
        .highlight { 
            color: #93c5fd; 
            font-weight: 700;
            background: rgba(59, 130, 246, 0.2);
            padding: 0.125rem 0.25rem;
            border-radius: 4px;
        }
        
        /* Bloques de c√≥digo oscuros */
        .code-block {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f1f5f9;
            border-radius: 12px;
            padding: 1.5rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.95rem;
            overflow-x: auto;
            border: 1px solid rgba(59, 130, 246, 0.3);
            position: relative;
        }
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
        }
        
        /* Tarjetas de herramientas oscuras */
        .tool-card {
            background: rgba(31, 41, 55, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid #3b82f6;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(55, 65, 81, 0.3);
        }
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
            pointer-events: none;
        }
        .tool-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-left-color: #60a5fa;
        }
        
        /* Enlaces mejorados para modo oscuro */
        .external-link {
            color: #93c5fd;
            text-decoration: none;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            transition: all 0.2s ease;
            background: rgba(59, 130, 246, 0.2);
        }
        .external-link:hover {
            color: #bfdbfe;
            background: rgba(59, 130, 246, 0.3);
            transform: translateX(2px);
        }
        
        /* Mejoras de tipograf√≠a para modo oscuro */
        .text-content {
            color: #d1d5db;
            line-height: 1.7;
        }
        
        /* Lista con mejor contraste */
        li {
            margin-bottom: 0.5rem;
            color: #d1d5db;
        }
        
        /* Animaciones */
        @keyframes slideInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        
        /* Efectos de hover para toda la p√°gina */
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }
        
        /* Header mejorado para modo oscuro */
        .learning-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .learning-header h2 {
            background: linear-gradient(135deg, #60a5fa 0%, #93c5fd 50%, #bfdbfe 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }
        .learning-header p {
            color: #9ca3af;
        }
        
        /* Tarjetas de ejemplos con colores del laboratorio */
        .example-card-blue {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05));
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .example-card-purple {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(147, 51, 234, 0.05));
            border: 1px solid rgba(147, 51, 234, 0.3);
        }
        .example-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.05));
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        /* Tarjetas de tipos con colores espec√≠ficos */
        .type-card-green {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(74, 222, 128, 0.05));
            border-left: 4px solid #22c55e;
        }
        .type-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.05));
            border-left: 4px solid #3b82f6;
        }
        .type-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.05));
            border-left: 4px solid #9333ea;
        }
        .type-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(248, 113, 113, 0.05));
            border-left: 4px solid #ef4444;
        }
        .type-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.05));
            border-left: 4px solid #f59e0b;
        }
        
        /* Tarjetas de protecci√≥n por colores */
        .protection-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05));
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .protection-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05));
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        .protection-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.15), rgba(147, 51, 234, 0.05));
            border: 1px solid rgba(147, 51, 234, 0.3);
        }
        .protection-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05));
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        .protection-card-gray {
            background: linear-gradient(135deg, rgba(107, 114, 128, 0.15), rgba(107, 114, 128, 0.05));
            border: 1px solid rgba(107, 114, 128, 0.3);
        }
        
        /* Tarjetas de challenges por colores */
        .challenge-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.03));
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        .challenge-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(147, 51, 234, 0.03));
            border: 1px solid rgba(147, 51, 234, 0.2);
        }
        .challenge-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.03));
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        .challenge-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.03));
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        .challenge-card-green {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.03));
            border: 1px solid rgba(34, 197, 94, 0.2);
        }
        .challenge-card-indigo {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.03));
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        
        /* Estilos espec√≠ficos para navegaci√≥n */
        .nav-link {
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s;
            text-decoration: none;
        }
        .nav-link:hover {
            background-color: rgba(55, 65, 81, 0.5);
            color: #f9fafb;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <nav class="bg-gray-800 shadow-lg mb-8">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <h1 class="text-xl font-bold text-blue-400">üéØ Laboratorio de Hacking</h1>
                    <div class="hidden md:flex space-x-4">
                        <a href="index.html" class="nav-link text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-1 rounded">üéØ Laboratorio de Hacking</a>
                        <a href="learning-center.html" class="nav-link bg-blue-600 text-white px-3 py-1 rounded font-bold">üìö Centro de Aprendizaje</a>
                    </div>
                </div>
                <div class="text-sm text-gray-400">
                    Aprende a hackear y defenderte
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4 md:p-8">
        <div class="page" id="learning-page">
            <section class="learning-section">
                <div class="learning-header mb-8">
                    <h2 class="text-3xl font-bold mb-2">üéì Centro de Aprendizaje SQLi</h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400">Aprende los conceptos fundamentales de la Inyecci√≥n SQL y c√≥mo funcionan los retos del laboratorio.</p>
                </div>
                <nav class="learning-nav flex gap-2 mb-6">
                    <button class="theory-nav active" data-target="intro">üî∞ Introducci√≥n</button>
                    <button class="theory-nav" data-target="concepts">üß© Conceptos Clave</button>
                    <button class="theory-nav" data-target="types">‚ö° Tipos de SQLi</button>
                    <button class="theory-nav" data-target="examples">üìù Ejemplos Pr√°cticos</button>
                    <button class="theory-nav" data-target="challenges">üéØ Retos del Laboratorio</button>
                    <button class="theory-nav" data-target="protection">üõ°Ô∏è Desarrollo Seguro</button>
                    <button class="theory-nav" data-target="tools">üõ†Ô∏è Herramientas y Referencias</button>
                </nav>
                <div class="learning-content">
                    <!-- Introducci√≥n -->
                    <div class="theory-section active" id="intro">
                        <div class="section-card">
                            <h3 class="section-title">¬øQu√© es la Inyecci√≥n SQL?</h3>
                            <div class="text-content">
                                <p>La <span class="highlight">Inyecci√≥n SQL (SQLi)</span> es una vulnerabilidad que permite a un atacante manipular consultas a la base de datos a trav√©s de entradas no validadas. Es una de las fallas m√°s cr√≠ticas y comunes en aplicaciones web.</p>
                                
                                <div class="grid md:grid-cols-2 gap-6 mt-6">
                                    <div class="bg-red-900/30 p-4 rounded-lg border-l-4 border-red-500">
                                        <h4 class="font-bold text-red-300 mb-2">üö® Impacto Potencial</h4>
                                        <ul class="list-disc ml-4 text-sm text-red-200">
                                            <li>Acceso no autorizado a datos sensibles</li>
                                            <li>Modificaci√≥n o eliminaci√≥n de informaci√≥n</li>
                                            <li>Escalado de privilegios en el sistema</li>
                                            <li>Ejecuci√≥n de comandos en el servidor</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="bg-amber-900/30 p-4 rounded-lg border-l-4 border-amber-500">
                                        <h4 class="font-bold text-amber-300 mb-2">üìä Estad√≠sticas</h4>
                                        <ul class="list-disc ml-4 text-sm text-amber-200">
                                            <li>Top 3 en OWASP Top 10 (2021)</li>
                                            <li>Presente en ~65% de aplicaciones web</li>
                                            <li>Costo promedio: $4.24M por brecha</li>
                                            <li>Tiempo de detecci√≥n: 287 d√≠as promedio</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="mt-6 p-4 bg-blue-900/30 rounded-lg">
                                    <h4 class="font-bold text-blue-300 mb-2">üí° ¬øPor qu√© ocurre?</h4>
                                    <p class="text-blue-200">Ocurre cuando la aplicaci√≥n inserta datos del usuario directamente en una consulta SQL sin validaci√≥n ni uso de par√°metros seguros. Es como permitir que un extra√±o escriba directamente en tu libro de cuentas.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Conceptos Clave -->
                    <div class="theory-section" id="concepts">
                        <div class="section-card">
                            <h3 class="section-title">üß© Conceptos Clave</h3>
                            <div class="text-content">
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="space-y-4">
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">üîç Consulta SQL</h4>
                                            <p class="text-sm text-gray-300">Instrucci√≥n enviada a la base de datos para obtener o modificar informaci√≥n.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">‚öôÔ∏è Par√°metro</h4>
                                            <p class="text-sm text-gray-300">Valor que el usuario puede controlar (ej: usuario, b√∫squeda, etc).</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">üí£ Payload</h4>
                                            <p class="text-sm text-gray-300">Entrada maliciosa dise√±ada para alterar la consulta original.</p>
                                        </div>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">‚úÖ Validaci√≥n</h4>
                                            <p class="text-sm text-gray-300">Proceso de comprobar que la entrada es segura antes de usarla.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">üîù Escalado</h4>
                                            <p class="text-sm text-gray-300">T√©cnica para obtener m√°s permisos de los que deber√≠a tener el usuario.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">üì§ Exfiltraci√≥n</h4>
                                            <p class="text-sm text-gray-300">Extracci√≥n de datos sensibles de la base de datos.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6">
                                    <h4 class="font-bold text-lg mb-3 text-gray-200">Anatom√≠a de una consulta vulnerable:</h4>
                                    <pre class="code-block">SELECT * FROM users WHERE username = '<span class="text-red-400">[INPUT_USUARIO]</span>' AND password = '<span class="text-red-400">[INPUT_CONTRASE√ëA]</span>';</pre>
                                    <div class="mt-3 p-3 bg-amber-900/30 rounded-lg border border-amber-600">
                                        <p class="text-sm text-amber-200">
                                            <strong>‚ö†Ô∏è Problema:</strong> Si el usuario puede controlar <span class="font-fira text-amber-300">[INPUT_USUARIO]</span> o <span class="font-fira text-amber-300">[INPUT_CONTRASE√ëA]</span> sin validaci√≥n, puede inyectar c√≥digo SQL malicioso.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Tipos de SQLi -->
                    <div class="theory-section" id="types">
                        <div class="section-card">
                            <h3 class="section-title">‚ö° Tipos de Inyecci√≥n SQL</h3>
                            <div class="text-content">
                                <div class="grid gap-4">
                                    <div class="type-card-green p-4 rounded-lg">
                                        <h4 class="font-bold text-green-300 mb-2">üü¢ Cl√°sica / Booleana</h4>
                                        <p class="text-green-200 mb-2">Manipula la l√≥gica de la consulta para obtener acceso sin conocer credenciales.</p>
                                        <code class="bg-green-800/50 text-green-200 px-2 py-1 rounded font-fira text-sm">' OR 1=1 --</code>
                                        <p class="text-xs mt-1 text-green-300">Permite el acceso sin conocer la contrase√±a.</p>
                                    </div>
                                    
                                    <div class="type-card-blue p-4 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-2">üîµ UNION-Based</h4>
                                        <p class="text-blue-200 mb-2">Une resultados de varias consultas para extraer datos de otras tablas.</p>
                                        <code class="bg-blue-800/50 text-blue-200 px-2 py-1 rounded font-fira text-sm">' UNION SELECT username, password FROM users --</code>
                                        <p class="text-xs mt-1 text-blue-300">Permite ver informaci√≥n de otras tablas.</p>
                                    </div>
                                    
                                    <div class="type-card-purple p-4 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-2">üü£ Basada en Tiempo (Blind)</h4>
                                        <p class="text-purple-200 mb-2">Usa funciones de retraso para detectar vulnerabilidad cuando no hay mensajes de error.</p>
                                        <code class="bg-purple-800/50 text-purple-200 px-2 py-1 rounded font-fira text-sm">' AND SLEEP(3) --</code>
                                        <p class="text-xs mt-1 text-purple-300">√ötil cuando no hay mensajes de error ni datos visibles.</p>
                                    </div>
                                    
                                    <div class="type-card-red p-4 rounded-lg">
                                        <h4 class="font-bold text-red-300 mb-2">üî¥ Basada en Errores</h4>
                                        <p class="text-red-200 mb-2">Provoca errores para obtener informaci√≥n de la estructura de la base de datos.</p>
                                        <code class="bg-red-800/50 text-red-200 px-2 py-1 rounded font-fira text-sm">' AND (SELECT COUNT(*) FROM information_schema.tables) --</code>
                                        <p class="text-xs mt-1 text-red-300">Los mensajes de error pueden revelar estructura interna.</p>
                                    </div>
                                    
                                    <div class="type-card-amber p-4 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-2">üü° Stacked Queries</h4>
                                        <p class="text-amber-200 mb-2">Ejecuta m√∫ltiples consultas en una sola petici√≥n (si el SGBD lo permite).</p>
                                        <code class="bg-amber-800/50 text-amber-200 px-2 py-1 rounded font-fira text-sm">'; DROP TABLE users; --</code>
                                        <p class="text-xs mt-1 text-amber-300">Permite ejecutar comandos destructivos o de configuraci√≥n.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Ejemplos Pr√°cticos -->
                    <div class="theory-section" id="examples">
                        <div class="section-card">
                            <h3 class="section-title">üìù Ejemplos Pr√°cticos Paso a Paso</h3>
                            <div class="text-content">
                                <div class="space-y-6">
                                    <div class="example-card-blue p-6 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-3">üîì Ejemplo 1: Bypass de Login</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta original:</p>
                                                <pre class="code-block text-xs">SELECT * FROM users WHERE username = 'admin' AND password = 'mipassword';</pre>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso en usuario:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">admin' --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta resultante:</p>
                                                <pre class="code-block text-xs">SELECT * FROM users WHERE username = 'admin' <span class="text-gray-500">-- AND password = 'cualquiercosa';</span></pre>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">‚úÖ Resultado:</strong> <span class="text-green-200">El comentario <code>--</code> ignora la validaci√≥n de contrase√±a, permitiendo acceso como admin.</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="example-card-purple p-6 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-3">üìä Ejemplo 2: Extracci√≥n de Datos</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta original:</p>
                                                <pre class="code-block text-xs">SELECT name, description FROM products WHERE name LIKE '%laptop%';</pre>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso en b√∫squeda:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">' UNION SELECT username, password FROM users --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta resultante:</p>
                                                <pre class="code-block text-xs">SELECT name, description FROM products WHERE name LIKE '%' 
UNION SELECT username, password FROM users <span class="text-gray-500">--%';</span></pre>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">‚úÖ Resultado:</strong> <span class="text-green-200">Se muestran tanto productos como usuarios y contrase√±as de la tabla users.</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="example-card-amber p-6 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-3">‚è±Ô∏è Ejemplo 3: Detecci√≥n Blind</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Escenario:</p>
                                                <p class="text-sm text-gray-300">La aplicaci√≥n no muestra errores ni datos, pero puedes medir el tiempo de respuesta.</p>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">' AND SLEEP(5) --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Observaci√≥n:</p>
                                                <p class="text-sm text-gray-300">Si la p√°gina tarda 5 segundos extra en cargar, confirmas que hay vulnerabilidad SQLi.</p>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">‚úÖ T√©cnica:</strong> <span class="text-green-200">Puedes usar esto para extraer datos bit a bit: <code class="text-green-300">IF(SUBSTRING(password,1,1)='a', SLEEP(5), 0)</code></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Retos del Laboratorio -->
                    <div class="theory-section" id="challenges">
                        <div class="section-card">
                            <h3 class="section-title mb-2">üéØ Retos del Laboratorio</h3>
                            <div class="text-content">
                                <div class="mb-6 bg-gradient-to-r from-blue-900/30 to-purple-900/30 p-6 rounded-lg border border-blue-600">
                                    <h4 class="font-bold text-blue-300 mb-3">üöÄ Tecnolog√≠a del Laboratorio</h4>
                                    <p class="text-gray-300 mb-4">Este laboratorio utiliza tecnolog√≠a avanzada para simular un entorno de base de datos real directamente en tu navegador:</p>
                                    
                                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                                        <div class="bg-gray-800/50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-purple-300 mb-2">‚ö° WebAssembly (WASM)</h5>
                                            <p class="text-gray-300 text-xs leading-relaxed">Ejecuta un motor SQLite completo en el navegador con rendimiento nativo. Esto permite:</p>
                                            <ul class="text-xs text-gray-400 mt-2 space-y-1">
                                                <li>‚Ä¢ Consultas SQL reales sin servidor backend</li>
                                                <li>‚Ä¢ Respuesta instant√°nea a tus inyecciones</li>
                                                <li>‚Ä¢ Aislamiento completo y seguridad</li>
                                                <li>‚Ä¢ Experiencia id√©ntica a una DB real</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="bg-gray-800/50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-green-300 mb-2">üóÑÔ∏è Base de Datos en el Navegador</h5>
                                            <p class="text-gray-300 text-xs leading-relaxed">SQLite se ejecuta completamente en memoria del navegador:</p>
                                            <ul class="text-xs text-gray-400 mt-2 space-y-1">
                                                <li>‚Ä¢ Datos reales: usuarios, productos, pedidos</li>
                                                <li>‚Ä¢ Esquema completo con relaciones</li>
                                                <li>‚Ä¢ Reseteo autom√°tico entre retos</li>
                                                <li>‚Ä¢ Sin limitaciones de sandbox</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4 bg-amber-800/30 p-3 rounded text-xs border border-amber-600">
                                        <strong class="text-amber-300">üí° Ventaja:</strong> <span class="text-amber-200">Puedes experimentar con payloads reales y ver el impacto inmediato en una base de datos funcional, sin riesgos de seguridad.</span>
                                    </div>
                                </div>
                                
                                <h4 class="font-bold text-gray-300 mb-4">üìã Descripci√≥n Detallada de Cada Reto:</h4>
                                
                                <div class="space-y-6">
                                    <div class="challenge-card-blue p-6 rounded-lg">
                                        <h5 class="font-bold text-blue-300 mb-3">üîì 1. El Login Roto - Autenticaci√≥n Bypass</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de login vulnerable que concatena directamente las credenciales del usuario.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM users WHERE username = '$user' AND password = '$pass'</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-blue-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Bypass de autenticaci√≥n con comentarios SQL</li>
                                                        <li>‚Ä¢ Manipulaci√≥n de l√≥gica booleana</li>
                                                        <li>‚Ä¢ T√©cnicas de inyecci√≥n b√°sica</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">admin' --</code> (comentario)</li>
                                                        <li>‚Ä¢ <code class="text-green-300">' OR 1=1 --</code> (tautolog√≠a)</li>
                                                        <li>‚Ä¢ <code class="text-green-300">' OR 'a'='a</code> (comparaci√≥n verdadera)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-green-800/30 p-3 rounded border border-green-600">
                                                <p class="text-xs text-green-200"><strong>üí° Pista:</strong> El objetivo es hacer que la condici√≥n WHERE siempre sea verdadera o comentar la verificaci√≥n de contrase√±a.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-purple p-6 rounded-lg">
                                        <h5 class="font-bold text-purple-300 mb-3">üîç 2. El Buscador Curioso - Union-Based SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Buscador de productos que permite extraer datos de otras tablas usando UNION SELECT.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT name, description FROM products WHERE name LIKE '%$search%'</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-purple-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Descubrimiento de estructura de tablas</li>
                                                        <li>‚Ä¢ T√©cnicas UNION SELECT</li>
                                                        <li>‚Ä¢ Extracci√≥n sistem√°tica de datos</li>
                                                        <li>‚Ä¢ Enumeraci√≥n de esquema de DB</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">UNION SELECT 1,2</code> (determinar columnas)</li>
                                                        <li>‚Ä¢ <code class="text-green-300">UNION SELECT username,password FROM users</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">UNION SELECT sql,type FROM sqlite_master</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-purple-800/30 p-3 rounded border border-purple-600">
                                                <p class="text-xs text-purple-200"><strong>üí° Pista:</strong> Primero determina cu√°ntas columnas devuelve la consulta original, luego usa UNION para combinar con datos de otras tablas.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-amber p-6 rounded-lg">
                                        <h5 class="font-bold text-amber-300 mb-3">‚è±Ô∏è 3. El Cup√≥n Paciente - Time-Based Blind SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de cupones que no muestra errores ni datos, pero permite detectar vulnerabilidades por tiempo de respuesta.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM coupons WHERE code = '$coupon' AND valid = 1</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-amber-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Detecci√≥n de SQLi "a ciegas"</li>
                                                        <li>‚Ä¢ T√©cnicas basadas en tiempo</li>
                                                        <li>‚Ä¢ Extracci√≥n de datos bit a bit</li>
                                                        <li>‚Ä¢ Paciencia en ataques manuales</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">' AND SLEEP(5) --</code> (retraso condicional)</li>
                                                        <li>‚Ä¢ <code class="text-green-300">' AND IF(1=1,SLEEP(3),0) --</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">' AND LENGTH(database())>5 AND SLEEP(2) --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-amber-800/30 p-3 rounded border border-amber-600">
                                                <p class="text-xs text-amber-200"><strong>üí° Pista:</strong> Si la p√°gina tarda m√°s tiempo en responder tras tu input, has confirmado la vulnerabilidad. Usa esto para extraer informaci√≥n.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-red p-6 rounded-lg">
                                        <h5 class="font-bold text-red-300 mb-3">üí• 4. ¬°Provoca un Error! - Error-Based SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Aplicaci√≥n que muestra errores de base de datos detallados que pueden revelar informaci√≥n del sistema.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM orders WHERE id = $id</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-red-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Explotaci√≥n de mensajes de error</li>
                                                        <li>‚Ä¢ T√©cnicas de revelaci√≥n de informaci√≥n</li>
                                                        <li>‚Ä¢ Manipulaci√≥n de tipos de datos</li>
                                                        <li>‚Ä¢ An√°lisis de respuestas de error</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">' AND 1=CAST((SELECT COUNT(*) FROM users) AS INT) --</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">' AND 1=username --</code> (error de tipo)</li>
                                                        <li>‚Ä¢ <code class="text-green-300">' AND 1=(SELECT password FROM users LIMIT 1) --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-red-800/30 p-3 rounded border border-red-600">
                                                <p class="text-xs text-red-200"><strong>üí° Pista:</strong> Provoca errores de tipo o de sintaxis que fuercen a la DB a mostrar datos en el mensaje de error.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-green p-6 rounded-lg">
                                        <h5 class="font-bold text-green-300 mb-3">üìä 5. Manipula el Orden - ORDER BY Injection</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Listado de productos con ordenamiento din√°mico vulnerable en la cl√°usula ORDER BY.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT name, price FROM products ORDER BY $sort_column</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Inyecci√≥n en cl√°usulas ORDER BY</li>
                                                        <li>‚Ä¢ Limitaciones de prepared statements</li>
                                                        <li>‚Ä¢ T√©cnicas avanzadas de inyecci√≥n</li>
                                                        <li>‚Ä¢ Explotaci√≥n de par√°metros din√°micos</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">price; DROP TABLE products --</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">(SELECT CASE WHEN 1=1 THEN name ELSE price END)</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">1 AND SLEEP(3)</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-green-800/30 p-3 rounded border border-green-600">
                                                <p class="text-xs text-green-200"><strong>üí° Pista:</strong> ORDER BY no puede usar par√°metros preparados para nombres de columna, creando una superficie de ataque √∫nica.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-indigo p-6 rounded-lg">
                                        <h5 class="font-bold text-indigo-300 mb-3">üîê 6. Subconsulta Maliciosa - Subquery Injection</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de permisos con subconsultas que puede ser manipulado para acceder a datos restringidos.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM documents WHERE owner_id = (SELECT id FROM users WHERE username = '$user')</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-indigo-300 mb-1">üéØ Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ Manipulaci√≥n de subconsultas</li>
                                                        <li>‚Ä¢ Bypass de controles de acceso</li>
                                                        <li>‚Ä¢ T√©cnicas de escalada de privilegios</li>
                                                        <li>‚Ä¢ Explotaci√≥n de l√≥gica compleja</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">üõ†Ô∏è T√©cnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>‚Ä¢ <code class="text-green-300">admin' UNION SELECT 1 --</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">' OR 1=1) OR ('a'='a</code></li>
                                                        <li>‚Ä¢ <code class="text-green-300">') UNION SELECT id FROM users WHERE role='admin' --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-indigo-800/30 p-3 rounded border border-indigo-600">
                                                <p class="text-xs text-indigo-200"><strong>üí° Pista:</strong> Manipula la subconsulta para que devuelva el ID de un usuario con m√°s privilegios o m√∫ltiples IDs.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-8 bg-gradient-to-r from-gray-800/50 to-gray-700/50 p-6 rounded-lg border border-gray-600">
                                    <h4 class="font-bold text-gray-300 mb-3">üéì Consejos para Resolver los Retos</h4>
                                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                                        <div>
                                            <p class="font-semibold text-blue-300 mb-2">üìù Metodolog√≠a:</p>
                                            <ul class="text-gray-400 space-y-1 text-xs">
                                                <li>1. Lee las pistas y entiende el contexto</li>
                                                <li>2. Analiza la consulta SQL generada</li>
                                                <li>3. Identifica el punto de inyecci√≥n</li>
                                                <li>4. Prueba payloads b√°sicos primero</li>
                                                <li>5. Observa las respuestas y errores</li>
                                                <li>6. Refina tu t√©cnica seg√∫n el resultado</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-green-300 mb-2">üîç Panel de An√°lisis:</p>
                                            <ul class="text-gray-400 space-y-1 text-xs">
                                                <li>‚Ä¢ Consulta SQL real ejecutada</li>
                                                <li>‚Ä¢ Resultados de la base de datos</li>
                                                <li>‚Ä¢ Tiempo de ejecuci√≥n</li>
                                                <li>‚Ä¢ Mensajes de error (si los hay)</li>
                                                <li>‚Ä¢ Estado de √©xito/fallo del reto</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Desarrollo Seguro -->
                    <div class="theory-section" id="protection">
                        <div class="section-card">
                            <h3 class="section-title mb-2">üõ°Ô∏è Desarrollo Seguro - Prevenci√≥n de SQLi</h3>
                            <div class="text-content">
                                <p class="text-lg text-gray-300 mb-6">Implementa estas pr√°cticas de desarrollo seguro para prevenir vulnerabilidades SQLi desde el dise√±o:</p>
                                
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="protection-card-blue p-6 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-4">üõ°Ô∏è Consultas Preparadas (Prepared Statements)</h4>
                                        <p class="text-sm text-gray-300 mb-3">La defensa m√°s efectiva contra SQLi. Separa la l√≥gica SQL de los datos.</p>
                                        
                                        <div class="space-y-4">
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">‚úÖ PHP/PDO - SEGURO:</p>
                                                <pre class="code-block text-xs">$stmt = $pdo->prepare("SELECT * FROM users WHERE username = ? AND password = ?");
$stmt->execute([$username, $password]);
$user = $stmt->fetch();</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">‚úÖ Node.js/MySQL2 - SEGURO:</p>
                                                <pre class="code-block text-xs">const query = 'SELECT * FROM users WHERE username = ? AND password = ?';
connection.execute(query, [username, password], (err, results) => {
    // Manejo seguro de resultados
});</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">‚úÖ Python/SQLite3 - SEGURO:</p>
                                                <pre class="code-block text-xs">cursor.execute("SELECT * FROM users WHERE username = ? AND password = ?", 
               (username, password))
user = cursor.fetchone()</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-4 bg-green-800/30 p-3 rounded text-xs border border-green-600">
                                            <strong class="text-green-300">‚úÖ Ventaja:</strong> <span class="text-green-200">Los par√°metros se tratan como datos literales, nunca como c√≥digo SQL ejecutable.</span>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-red p-6 rounded-lg">
                                        <h4 class="font-bold text-red-300 mb-4">‚ùå C√≥digo VULNERABLE vs ‚úÖ SEGURO</h4>
                                        <p class="text-sm text-gray-300 mb-3">Comparaci√≥n directa de implementaciones inseguras y seguras.</p>
                                        
                                        <div class="space-y-4">
                                            <div>
                                                <p class="font-semibold text-xs text-red-300 mb-2">‚ùå VULNERABLE - Concatenaci√≥n:</p>
                                                <pre class="code-block text-xs bg-red-900/30 border border-red-600">// ¬°NUNCA hagas esto!
$query = "SELECT * FROM users WHERE id = " . $_GET['id'];
$result = mysqli_query($conn, $query);</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-green-300 mb-2">‚úÖ SEGURO - Validaci√≥n + Prepared:</p>
                                                <pre class="code-block text-xs bg-green-900/30 border border-green-600">// Validar entrada
if (!is_numeric($_GET['id'])) {
    die("ID inv√°lido");
}
$stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
$stmt->execute([$_GET['id']]);</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-red-300 mb-2">‚ùå VULNERABLE - ORDER BY din√°mico:</p>
                                                <pre class="code-block text-xs bg-red-900/30 border border-red-600">// Vulnerable a SQLi
$order = $_GET['sort'];
$query = "SELECT * FROM products ORDER BY $order";</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-green-300 mb-2">‚úÖ SEGURO - Lista blanca para ORDER BY:</p>
                                                <pre class="code-block text-xs bg-green-900/30 border border-green-600">// Lista blanca de columnas permitidas
$allowed_columns = ['name', 'price', 'category'];
$sort = in_array($_GET['sort'], $allowed_columns) ? $_GET['sort'] : 'name';
$query = "SELECT * FROM products ORDER BY $sort";</pre>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-purple p-6 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-4">üîç Validaci√≥n y Sanitizaci√≥n</h4>
                                        <p class="text-sm text-gray-300 mb-3">Implementa m√∫ltiples capas de validaci√≥n para entrada del usuario.</p>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-xs text-purple-300 mb-2">Validaci√≥n de Tipos:</p>
                                                <pre class="code-block text-xs">// Validar ID num√©rico
function validateId($id) {
    if (!is_numeric($id) || $id <= 0) {
        throw new InvalidArgumentException("ID inv√°lido");
    }
    return (int)$id;
}

// Validar email
function validateEmail($email) {
    $email = filter_var($email, FILTER_SANITIZE_EMAIL);
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        throw new InvalidArgumentException("Email inv√°lido");
    }
    return $email;
}</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3 bg-purple-800/30 p-3 rounded text-xs border border-purple-600">
                                            <strong class="text-purple-300">üí° Regla:</strong> <span class="text-purple-200">Valida en el cliente para UX, pero SIEMPRE valida en el servidor para seguridad.</span>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-amber p-6 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-4">‚öôÔ∏è Configuraci√≥n Segura de Base de Datos</h4>
                                        <p class="text-sm text-gray-300 mb-3">Configura tu SGBD siguiendo el principio de menor privilegio.</p>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-xs text-amber-300 mb-2">Usuario de aplicaci√≥n limitado:</p>
                                                <pre class="code-block text-xs">-- Crear usuario espec√≠fico para la aplicaci√≥n
CREATE USER 'webapp'@'localhost' IDENTIFIED BY 'strong_password';

-- Solo permisos necesarios
GRANT SELECT, INSERT, UPDATE ON myapp.users TO 'webapp'@'localhost';
GRANT SELECT ON myapp.products TO 'webapp'@'localhost';

-- NO otorgar permisos administrativos
-- REVOKE ALL ON *.* FROM 'webapp'@'localhost';</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3 bg-amber-800/30 p-3 rounded text-xs border border-amber-600">
                                            <strong class="text-amber-300">üîê Principio:</strong> <span class="text-amber-200">Si tu aplicaci√≥n es comprometida, el atacante solo tendr√° los permisos m√≠nimos necesarios.</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-8 protection-card-gray p-6 rounded-lg">
                                    <h4 class="font-bold text-gray-300 mb-4">üõ†Ô∏è Framework y ORM Seguros</h4>
                                    <div class="grid md:grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <p class="font-semibold text-blue-300 mb-2">üî∑ Laravel (PHP)</p>
                                            <pre class="code-block text-xs">// Eloquent ORM - Autom√°ticamente seguro
User::where('email', $email)->first();

// Query Builder con par√°metros
DB::table('users')
  ->where('active', 1)
  ->where('email', $email)
  ->get();</pre>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-green-300 mb-2">üü¢ Express + Sequelize (Node.js)</p>
                                            <pre class="code-block text-xs">// Sequelize ORM
const user = await User.findOne({
  where: {
    email: email,
    active: true
  }
});

// Raw query con par√°metros
await sequelize.query(
  'SELECT * FROM users WHERE email = ?',
  { replacements: [email] }
);</pre>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-yellow-300 mb-2">üêç Django (Python)</p>
                                            <pre class="code-block text-xs"># Django ORM - Autom√°ticamente seguro
user = User.objects.filter(
    email=email,
    is_active=True
).first()

# Raw query con par√°metros
users = User.objects.raw(
    'SELECT * FROM users WHERE email = %s',
    [email]
)</pre>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4 bg-blue-800/30 p-4 rounded border border-blue-600">
                                        <h5 class="font-semibold text-blue-300 mb-2">üìù Checklist de Desarrollo Seguro:</h5>
                                        <ul class="text-xs text-blue-200 space-y-1">
                                            <li>‚úÖ Usar siempre consultas preparadas o ORM seguro</li>
                                            <li>‚úÖ Validar y sanitizar TODA entrada del usuario</li>
                                            <li>‚úÖ Implementar listas blancas para campos din√°micos (ORDER BY, columnas)</li>
                                            <li>‚úÖ Configurar usuario de DB con permisos m√≠nimos</li>
                                            <li>‚úÖ No mostrar errores de DB al usuario final</li>
                                            <li>‚úÖ Implementar logging y monitoreo de consultas sospechosas</li>
                                            <li>‚úÖ Realizar pruebas de penetraci√≥n regulares</li>
                                            <li>‚úÖ Mantener frameworks y dependencias actualizadas</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Herramientas y Referencias -->
                    <div class="theory-section" id="tools">
                        <div class="section-card">
                            <h3 class="section-title mb-2">üõ†Ô∏è Herramientas y Referencias</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">SQLMap</h4>
                                    <p>Automatiza la detecci√≥n y explotaci√≥n de SQLi. Muy √∫til para pruebas de caja negra.</p>
                                    <a href="https://sqlmap.org/" target="_blank" class="external-link">Visitar SQLMap</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">Burp Suite</h4>
                                    <p>Proxy para interceptar y modificar peticiones HTTP. Permite manipular par√°metros y automatizar ataques.</p>
                                    <a href="https://portswigger.net/burp" target="_blank" class="external-link">Descargar Burp Suite</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">CyberChef</h4>
                                    <p>Herramienta web para decodificar, codificar y manipular datos. √ötil para analizar respuestas y payloads.</p>
                                    <a href="https://gchq.github.io/CyberChef/" target="_blank" class="external-link">Usar CyberChef</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">DB Fiddle</h4>
                                    <p>Entorno online para probar consultas SQL en diferentes motores.</p>
                                    <a href="https://www.db-fiddle.com/" target="_blank" class="external-link">Probar DB Fiddle</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">SecLists</h4>
                                    <p>Listas de payloads y diccionarios para pruebas de seguridad, incluyendo SQLi.</p>
                                    <a href="https://github.com/danielmiessler/SecLists" target="_blank" class="external-link">Ver SecLists</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">PayloadAllTheThings</h4>
                                    <p>Repositorio con ejemplos de payloads para SQLi y otras vulnerabilidades.</p>
                                    <a href="https://github.com/swisskyrepo/PayloadsAllTheThings" target="_blank" class="external-link">Ver PayloadAllTheThings</a>
                                </div>
                            </div>
                        </div>
                        <div class="section-card">
                            <h3 class="section-title mb-2">üåê Enlaces y Recursos Externos</h3>
                            <ul class="list-disc ml-6 text-blue-700 dark:text-blue-300">
                                <li><a href="https://owasp.org/www-community/attacks/SQL_Injection" target="_blank" class="external-link">Gu√≠a OWASP SQL Injection</a></li>
                                <li><a href="https://portswigger.net/web-security/sql-injection" target="_blank" class="external-link">Gu√≠a de SQLi en PortSwigger</a></li>
                                <li><a href="https://www.hacksplaining.com/prevention/sql-injection" target="_blank" class="external-link">Hacksplaining: SQLi</a></li>
                                <li><a href="https://www.w3schools.com/sql/sql_injection.asp" target="_blank" class="external-link">W3Schools: SQL Injection</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <script>
        // Navegaci√≥n de pesta√±as
        document.querySelectorAll('.theory-nav').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.theory-nav').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                const target = this.getAttribute('data-target');
                document.querySelectorAll('.theory-section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(target).classList.add('active');
            });
        });
    </script>
    <footer class="text-center mt-12 py-6 border-t border-gray-200 dark:border-gray-700">
        <p class="text-gray-600 dark:text-gray-400 text-sm">
            Centro de Aprendizaje SQLI <br>
            made with ‚ù§Ô∏è by <a href="https://www.linkedin.com/in/martin-munoz/" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors">Martin Mu√±oz</a>
        </p>
    </footer>
</body>
</html>
