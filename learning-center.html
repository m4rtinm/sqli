<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Aprendizaje SQLi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #111827;
            color: #f9fafb;
        }
        .font-fira { font-family: 'Fira Code', monospace; }
        
        /* Colores principales del laboratorio */
        .sql-blue { color: #569cd6; }
        .sql-green { color: #ce9178; }
        .sql-red { color: #ff6b6b; }
        .sql-gray { color: #6a9955; }
        
        /* Navegación mejorada con tema oscuro */
        .learning-nav {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 0.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            border: 1px solid rgba(55, 65, 81, 0.5);
        }
        .learning-nav button {
            transition: all 0.3s ease;
            border-radius: 8px;
            font-weight: 500;
            padding: 0.75rem 1.25rem;
            border: none;
            cursor: pointer;
            background: transparent;
            color: #9ca3af;
            font-size: 0.9rem;
        }
        .learning-nav button:hover {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            transform: translateY(-1px);
        }
        .learning-nav button.active {
            background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(29, 78, 216, 0.3);
            transform: translateY(-2px);
        }
        
        /* Secciones con animaciones */
        .theory-section { 
            display: none; 
        }
        .theory-section.active { 
            display: block; 
            animation: slideInUp 0.5s ease-out;
        }
        
        /* Tarjetas del tema oscuro */
        .section-card {
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            padding: 2.5rem 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(55, 65, 81, 0.3);
            position: relative;
            overflow: hidden;
        }
        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #1d4ed8, #2563eb, #3b82f6);
        }
        
        /* Títulos con gradientes oscuros */
        .section-title {
            font-size: 1.75rem;
            font-weight: 800;
            background: linear-gradient(135deg, #60a5fa 0%, #93c5fd 50%, #dbeafe 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        /* Mejoras de contraste para modo oscuro */
        .highlight { 
            color: #93c5fd; 
            font-weight: 700;
            background: rgba(59, 130, 246, 0.2);
            padding: 0.125rem 0.25rem;
            border-radius: 4px;
        }
        
        /* Bloques de código oscuros */
        .code-block {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f1f5f9;
            border-radius: 12px;
            padding: 1.5rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.95rem;
            overflow-x: auto;
            border: 1px solid rgba(59, 130, 246, 0.3);
            position: relative;
        }
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
        }
        
        /* Tarjetas de herramientas oscuras */
        .tool-card {
            background: rgba(31, 41, 55, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid #3b82f6;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(55, 65, 81, 0.3);
        }
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
            pointer-events: none;
        }
        .tool-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-left-color: #60a5fa;
        }
        
        /* Enlaces mejorados para modo oscuro */
        .external-link {
            color: #93c5fd;
            text-decoration: none;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            transition: all 0.2s ease;
            background: rgba(59, 130, 246, 0.2);
        }
        .external-link:hover {
            color: #bfdbfe;
            background: rgba(59, 130, 246, 0.3);
            transform: translateX(2px);
        }
        
        /* Mejoras de tipografía para modo oscuro */
        .text-content {
            color: #d1d5db;
            line-height: 1.7;
        }
        
        /* Lista con mejor contraste */
        li {
            margin-bottom: 0.5rem;
            color: #d1d5db;
        }
        
        /* Animaciones */
        @keyframes slideInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        
        /* Efectos de hover para toda la página */
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }
        
        /* Header mejorado para modo oscuro */
        .learning-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .learning-header h2 {
            background: linear-gradient(135deg, #60a5fa 0%, #93c5fd 50%, #bfdbfe 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }
        .learning-header p {
            color: #9ca3af;
        }
        
        /* Tarjetas de ejemplos con colores del laboratorio */
        .example-card-blue {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05));
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .example-card-purple {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(147, 51, 234, 0.05));
            border: 1px solid rgba(147, 51, 234, 0.3);
        }
        .example-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.05));
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        /* Tarjetas de tipos con colores específicos */
        .type-card-green {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(74, 222, 128, 0.05));
            border-left: 4px solid #22c55e;
        }
        .type-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.05));
            border-left: 4px solid #3b82f6;
        }
        .type-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(168, 85, 247, 0.05));
            border-left: 4px solid #9333ea;
        }
        .type-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(248, 113, 113, 0.05));
            border-left: 4px solid #ef4444;
        }
        .type-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.05));
            border-left: 4px solid #f59e0b;
        }
        
        /* Tarjetas de protección por colores */
        .protection-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05));
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .protection-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05));
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        .protection-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.15), rgba(147, 51, 234, 0.05));
            border: 1px solid rgba(147, 51, 234, 0.3);
        }
        .protection-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05));
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        .protection-card-gray {
            background: linear-gradient(135deg, rgba(107, 114, 128, 0.15), rgba(107, 114, 128, 0.05));
            border: 1px solid rgba(107, 114, 128, 0.3);
        }
        
        /* Tarjetas de challenges por colores */
        .challenge-card-blue {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.03));
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        .challenge-card-purple {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(147, 51, 234, 0.03));
            border: 1px solid rgba(147, 51, 234, 0.2);
        }
        .challenge-card-amber {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.03));
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        .challenge-card-red {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.03));
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        .challenge-card-green {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.03));
            border: 1px solid rgba(34, 197, 94, 0.2);
        }
        .challenge-card-indigo {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.03));
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        
        /* Estilos específicos para navegación */
        .nav-link {
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s;
            text-decoration: none;
        }
        .nav-link:hover {
            background-color: rgba(55, 65, 81, 0.5);
            color: #f9fafb;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <nav class="bg-gray-800 shadow-lg mb-8">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <h1 class="text-xl font-bold text-blue-400">🎯 Laboratorio de Hacking</h1>
                    <div class="hidden md:flex space-x-4">
                        <a href="index.html" class="nav-link text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-1 rounded">🎯 Laboratorio de Hacking</a>
                        <a href="learning-center.html" class="nav-link bg-blue-600 text-white px-3 py-1 rounded font-bold">📚 Centro de Aprendizaje</a>
                    </div>
                </div>
                <div class="text-sm text-gray-400">
                    Aprende a hackear y defenderte
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4 md:p-8">
        <div class="page" id="learning-page">
            <section class="learning-section">
                <div class="learning-header mb-8">
                    <h2 class="text-3xl font-bold mb-2">🎓 Centro de Aprendizaje SQLi</h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400">Aprende los conceptos fundamentales de la Inyección SQL y cómo funcionan los retos del laboratorio.</p>
                </div>
                <nav class="learning-nav flex gap-2 mb-6">
                    <button class="theory-nav active" data-target="intro">🔰 Introducción</button>
                    <button class="theory-nav" data-target="concepts">🧩 Conceptos Clave</button>
                    <button class="theory-nav" data-target="types">⚡ Tipos de SQLi</button>
                    <button class="theory-nav" data-target="examples">📝 Ejemplos Prácticos</button>
                    <button class="theory-nav" data-target="challenges">🎯 Retos del Laboratorio</button>
                    <button class="theory-nav" data-target="protection">🛡️ Desarrollo Seguro</button>
                    <button class="theory-nav" data-target="tools">🛠️ Herramientas y Referencias</button>
                </nav>
                <div class="learning-content">
                    <!-- Introducción -->
                    <div class="theory-section active" id="intro">
                        <div class="section-card">
                            <h3 class="section-title">¿Qué es la Inyección SQL?</h3>
                            <div class="text-content">
                                <p>La <span class="highlight">Inyección SQL (SQLi)</span> es una vulnerabilidad que permite a un atacante manipular consultas a la base de datos a través de entradas no validadas. Es una de las fallas más críticas y comunes en aplicaciones web.</p>
                                
                                <div class="grid md:grid-cols-2 gap-6 mt-6">
                                    <div class="bg-red-900/30 p-4 rounded-lg border-l-4 border-red-500">
                                        <h4 class="font-bold text-red-300 mb-2">🚨 Impacto Potencial</h4>
                                        <ul class="list-disc ml-4 text-sm text-red-200">
                                            <li>Acceso no autorizado a datos sensibles</li>
                                            <li>Modificación o eliminación de información</li>
                                            <li>Escalado de privilegios en el sistema</li>
                                            <li>Ejecución de comandos en el servidor</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="bg-amber-900/30 p-4 rounded-lg border-l-4 border-amber-500">
                                        <h4 class="font-bold text-amber-300 mb-2">📊 Estadísticas</h4>
                                        <ul class="list-disc ml-4 text-sm text-amber-200">
                                            <li>Top 3 en OWASP Top 10 (2021)</li>
                                            <li>Presente en ~65% de aplicaciones web</li>
                                            <li>Costo promedio: $4.24M por brecha</li>
                                            <li>Tiempo de detección: 287 días promedio</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="mt-6 p-4 bg-blue-900/30 rounded-lg">
                                    <h4 class="font-bold text-blue-300 mb-2">💡 ¿Por qué ocurre?</h4>
                                    <p class="text-blue-200">Ocurre cuando la aplicación inserta datos del usuario directamente en una consulta SQL sin validación ni uso de parámetros seguros. Es como permitir que un extraño escriba directamente en tu libro de cuentas.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Conceptos Clave -->
                    <div class="theory-section" id="concepts">
                        <div class="section-card">
                            <h3 class="section-title">🧩 Conceptos Clave</h3>
                            <div class="text-content">
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="space-y-4">
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">🔍 Consulta SQL</h4>
                                            <p class="text-sm text-gray-300">Instrucción enviada a la base de datos para obtener o modificar información.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">⚙️ Parámetro</h4>
                                            <p class="text-sm text-gray-300">Valor que el usuario puede controlar (ej: usuario, búsqueda, etc).</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">💣 Payload</h4>
                                            <p class="text-sm text-gray-300">Entrada maliciosa diseñada para alterar la consulta original.</p>
                                        </div>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">✅ Validación</h4>
                                            <p class="text-sm text-gray-300">Proceso de comprobar que la entrada es segura antes de usarla.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">🔝 Escalado</h4>
                                            <p class="text-sm text-gray-300">Técnica para obtener más permisos de los que debería tener el usuario.</p>
                                        </div>
                                        <div class="p-3 bg-gray-800/50 rounded-lg border border-gray-600">
                                            <h4 class="font-bold text-blue-400">📤 Exfiltración</h4>
                                            <p class="text-sm text-gray-300">Extracción de datos sensibles de la base de datos.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6">
                                    <h4 class="font-bold text-lg mb-3 text-gray-200">Anatomía de una consulta vulnerable:</h4>
                                    <pre class="code-block">SELECT * FROM users WHERE username = '<span class="text-red-400">[INPUT_USUARIO]</span>' AND password = '<span class="text-red-400">[INPUT_CONTRASEÑA]</span>';</pre>
                                    <div class="mt-3 p-3 bg-amber-900/30 rounded-lg border border-amber-600">
                                        <p class="text-sm text-amber-200">
                                            <strong>⚠️ Problema:</strong> Si el usuario puede controlar <span class="font-fira text-amber-300">[INPUT_USUARIO]</span> o <span class="font-fira text-amber-300">[INPUT_CONTRASEÑA]</span> sin validación, puede inyectar código SQL malicioso.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Tipos de SQLi -->
                    <div class="theory-section" id="types">
                        <div class="section-card">
                            <h3 class="section-title">⚡ Tipos de Inyección SQL</h3>
                            <div class="text-content">
                                <div class="grid gap-4">
                                    <div class="type-card-green p-4 rounded-lg">
                                        <h4 class="font-bold text-green-300 mb-2">🟢 Clásica / Booleana</h4>
                                        <p class="text-green-200 mb-2">Manipula la lógica de la consulta para obtener acceso sin conocer credenciales.</p>
                                        <code class="bg-green-800/50 text-green-200 px-2 py-1 rounded font-fira text-sm">' OR 1=1 --</code>
                                        <p class="text-xs mt-1 text-green-300">Permite el acceso sin conocer la contraseña.</p>
                                    </div>
                                    
                                    <div class="type-card-blue p-4 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-2">🔵 UNION-Based</h4>
                                        <p class="text-blue-200 mb-2">Une resultados de varias consultas para extraer datos de otras tablas.</p>
                                        <code class="bg-blue-800/50 text-blue-200 px-2 py-1 rounded font-fira text-sm">' UNION SELECT username, password FROM users --</code>
                                        <p class="text-xs mt-1 text-blue-300">Permite ver información de otras tablas.</p>
                                    </div>
                                    
                                    <div class="type-card-purple p-4 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-2">🟣 Basada en Tiempo (Blind)</h4>
                                        <p class="text-purple-200 mb-2">Usa funciones de retraso para detectar vulnerabilidad cuando no hay mensajes de error.</p>
                                        <code class="bg-purple-800/50 text-purple-200 px-2 py-1 rounded font-fira text-sm">' AND SLEEP(3) --</code>
                                        <p class="text-xs mt-1 text-purple-300">Útil cuando no hay mensajes de error ni datos visibles.</p>
                                    </div>
                                    
                                    <div class="type-card-red p-4 rounded-lg">
                                        <h4 class="font-bold text-red-300 mb-2">🔴 Basada en Errores</h4>
                                        <p class="text-red-200 mb-2">Provoca errores para obtener información de la estructura de la base de datos.</p>
                                        <code class="bg-red-800/50 text-red-200 px-2 py-1 rounded font-fira text-sm">' AND (SELECT COUNT(*) FROM information_schema.tables) --</code>
                                        <p class="text-xs mt-1 text-red-300">Los mensajes de error pueden revelar estructura interna.</p>
                                    </div>
                                    
                                    <div class="type-card-amber p-4 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-2">🟡 Stacked Queries</h4>
                                        <p class="text-amber-200 mb-2">Ejecuta múltiples consultas en una sola petición (si el SGBD lo permite).</p>
                                        <code class="bg-amber-800/50 text-amber-200 px-2 py-1 rounded font-fira text-sm">'; DROP TABLE users; --</code>
                                        <p class="text-xs mt-1 text-amber-300">Permite ejecutar comandos destructivos o de configuración.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Ejemplos Prácticos -->
                    <div class="theory-section" id="examples">
                        <div class="section-card">
                            <h3 class="section-title">📝 Ejemplos Prácticos Paso a Paso</h3>
                            <div class="text-content">
                                <div class="space-y-6">
                                    <div class="example-card-blue p-6 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-3">🔓 Ejemplo 1: Bypass de Login</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta original:</p>
                                                <pre class="code-block text-xs">SELECT * FROM users WHERE username = 'admin' AND password = 'mipassword';</pre>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso en usuario:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">admin' --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta resultante:</p>
                                                <pre class="code-block text-xs">SELECT * FROM users WHERE username = 'admin' <span class="text-gray-500">-- AND password = 'cualquiercosa';</span></pre>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">✅ Resultado:</strong> <span class="text-green-200">El comentario <code>--</code> ignora la validación de contraseña, permitiendo acceso como admin.</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="example-card-purple p-6 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-3">📊 Ejemplo 2: Extracción de Datos</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta original:</p>
                                                <pre class="code-block text-xs">SELECT name, description FROM products WHERE name LIKE '%laptop%';</pre>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso en búsqueda:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">' UNION SELECT username, password FROM users --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Consulta resultante:</p>
                                                <pre class="code-block text-xs">SELECT name, description FROM products WHERE name LIKE '%' 
UNION SELECT username, password FROM users <span class="text-gray-500">--%';</span></pre>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">✅ Resultado:</strong> <span class="text-green-200">Se muestran tanto productos como usuarios y contraseñas de la tabla users.</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="example-card-amber p-6 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-3">⏱️ Ejemplo 3: Detección Blind</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Escenario:</p>
                                                <p class="text-sm text-gray-300">La aplicación no muestra errores ni datos, pero puedes medir el tiempo de respuesta.</p>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Input malicioso:</p>
                                                <code class="bg-red-800/50 text-red-300 px-2 py-1 rounded">' AND SLEEP(5) --</code>
                                            </div>
                                            <div>
                                                <p class="font-semibold text-sm text-gray-300">Observación:</p>
                                                <p class="text-sm text-gray-300">Si la página tarda 5 segundos extra en cargar, confirmas que hay vulnerabilidad SQLi.</p>
                                            </div>
                                            <div class="bg-green-800/30 p-3 rounded text-sm border border-green-600">
                                                <strong class="text-green-300">✅ Técnica:</strong> <span class="text-green-200">Puedes usar esto para extraer datos bit a bit: <code class="text-green-300">IF(SUBSTRING(password,1,1)='a', SLEEP(5), 0)</code></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Retos del Laboratorio -->
                    <div class="theory-section" id="challenges">
                        <div class="section-card">
                            <h3 class="section-title mb-2">🎯 Retos del Laboratorio</h3>
                            <div class="text-content">
                                <div class="mb-6 bg-gradient-to-r from-blue-900/30 to-purple-900/30 p-6 rounded-lg border border-blue-600">
                                    <h4 class="font-bold text-blue-300 mb-3">🚀 Tecnología del Laboratorio</h4>
                                    <p class="text-gray-300 mb-4">Este laboratorio utiliza tecnología avanzada para simular un entorno de base de datos real directamente en tu navegador:</p>
                                    
                                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                                        <div class="bg-gray-800/50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-purple-300 mb-2">⚡ WebAssembly (WASM)</h5>
                                            <p class="text-gray-300 text-xs leading-relaxed">Ejecuta un motor SQLite completo en el navegador con rendimiento nativo. Esto permite:</p>
                                            <ul class="text-xs text-gray-400 mt-2 space-y-1">
                                                <li>• Consultas SQL reales sin servidor backend</li>
                                                <li>• Respuesta instantánea a tus inyecciones</li>
                                                <li>• Aislamiento completo y seguridad</li>
                                                <li>• Experiencia idéntica a una DB real</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="bg-gray-800/50 p-4 rounded-lg">
                                            <h5 class="font-semibold text-green-300 mb-2">🗄️ Base de Datos en el Navegador</h5>
                                            <p class="text-gray-300 text-xs leading-relaxed">SQLite se ejecuta completamente en memoria del navegador:</p>
                                            <ul class="text-xs text-gray-400 mt-2 space-y-1">
                                                <li>• Datos reales: usuarios, productos, pedidos</li>
                                                <li>• Esquema completo con relaciones</li>
                                                <li>• Reseteo automático entre retos</li>
                                                <li>• Sin limitaciones de sandbox</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4 bg-amber-800/30 p-3 rounded text-xs border border-amber-600">
                                        <strong class="text-amber-300">💡 Ventaja:</strong> <span class="text-amber-200">Puedes experimentar con payloads reales y ver el impacto inmediato en una base de datos funcional, sin riesgos de seguridad.</span>
                                    </div>
                                </div>
                                
                                <h4 class="font-bold text-gray-300 mb-4">📋 Descripción Detallada de Cada Reto:</h4>
                                
                                <div class="space-y-6">
                                    <div class="challenge-card-blue p-6 rounded-lg">
                                        <h5 class="font-bold text-blue-300 mb-3">🔓 1. El Login Roto - Autenticación Bypass</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de login vulnerable que concatena directamente las credenciales del usuario.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM users WHERE username = '$user' AND password = '$pass'</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-blue-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Bypass de autenticación con comentarios SQL</li>
                                                        <li>• Manipulación de lógica booleana</li>
                                                        <li>• Técnicas de inyección básica</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">admin' --</code> (comentario)</li>
                                                        <li>• <code class="text-green-300">' OR 1=1 --</code> (tautología)</li>
                                                        <li>• <code class="text-green-300">' OR 'a'='a</code> (comparación verdadera)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-green-800/30 p-3 rounded border border-green-600">
                                                <p class="text-xs text-green-200"><strong>💡 Pista:</strong> El objetivo es hacer que la condición WHERE siempre sea verdadera o comentar la verificación de contraseña.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-purple p-6 rounded-lg">
                                        <h5 class="font-bold text-purple-300 mb-3">🔍 2. El Buscador Curioso - Union-Based SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Buscador de productos que permite extraer datos de otras tablas usando UNION SELECT.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT name, description FROM products WHERE name LIKE '%$search%'</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-purple-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Descubrimiento de estructura de tablas</li>
                                                        <li>• Técnicas UNION SELECT</li>
                                                        <li>• Extracción sistemática de datos</li>
                                                        <li>• Enumeración de esquema de DB</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">UNION SELECT 1,2</code> (determinar columnas)</li>
                                                        <li>• <code class="text-green-300">UNION SELECT username,password FROM users</code></li>
                                                        <li>• <code class="text-green-300">UNION SELECT sql,type FROM sqlite_master</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-purple-800/30 p-3 rounded border border-purple-600">
                                                <p class="text-xs text-purple-200"><strong>💡 Pista:</strong> Primero determina cuántas columnas devuelve la consulta original, luego usa UNION para combinar con datos de otras tablas.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-amber p-6 rounded-lg">
                                        <h5 class="font-bold text-amber-300 mb-3">⏱️ 3. El Cupón Paciente - Time-Based Blind SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de cupones que no muestra errores ni datos, pero permite detectar vulnerabilidades por tiempo de respuesta.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM coupons WHERE code = '$coupon' AND valid = 1</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-amber-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Detección de SQLi "a ciegas"</li>
                                                        <li>• Técnicas basadas en tiempo</li>
                                                        <li>• Extracción de datos bit a bit</li>
                                                        <li>• Paciencia en ataques manuales</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">' AND SLEEP(5) --</code> (retraso condicional)</li>
                                                        <li>• <code class="text-green-300">' AND IF(1=1,SLEEP(3),0) --</code></li>
                                                        <li>• <code class="text-green-300">' AND LENGTH(database())>5 AND SLEEP(2) --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-amber-800/30 p-3 rounded border border-amber-600">
                                                <p class="text-xs text-amber-200"><strong>💡 Pista:</strong> Si la página tarda más tiempo en responder tras tu input, has confirmado la vulnerabilidad. Usa esto para extraer información.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-red p-6 rounded-lg">
                                        <h5 class="font-bold text-red-300 mb-3">💥 4. ¡Provoca un Error! - Error-Based SQLi</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Aplicación que muestra errores de base de datos detallados que pueden revelar información del sistema.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM orders WHERE id = $id</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-red-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Explotación de mensajes de error</li>
                                                        <li>• Técnicas de revelación de información</li>
                                                        <li>• Manipulación de tipos de datos</li>
                                                        <li>• Análisis de respuestas de error</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">' AND 1=CAST((SELECT COUNT(*) FROM users) AS INT) --</code></li>
                                                        <li>• <code class="text-green-300">' AND 1=username --</code> (error de tipo)</li>
                                                        <li>• <code class="text-green-300">' AND 1=(SELECT password FROM users LIMIT 1) --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-red-800/30 p-3 rounded border border-red-600">
                                                <p class="text-xs text-red-200"><strong>💡 Pista:</strong> Provoca errores de tipo o de sintaxis que fuercen a la DB a mostrar datos en el mensaje de error.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-green p-6 rounded-lg">
                                        <h5 class="font-bold text-green-300 mb-3">📊 5. Manipula el Orden - ORDER BY Injection</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Listado de productos con ordenamiento dinámico vulnerable en la cláusula ORDER BY.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT name, price FROM products ORDER BY $sort_column</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Inyección en cláusulas ORDER BY</li>
                                                        <li>• Limitaciones de prepared statements</li>
                                                        <li>• Técnicas avanzadas de inyección</li>
                                                        <li>• Explotación de parámetros dinámicos</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">price; DROP TABLE products --</code></li>
                                                        <li>• <code class="text-green-300">(SELECT CASE WHEN 1=1 THEN name ELSE price END)</code></li>
                                                        <li>• <code class="text-green-300">1 AND SLEEP(3)</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-green-800/30 p-3 rounded border border-green-600">
                                                <p class="text-xs text-green-200"><strong>💡 Pista:</strong> ORDER BY no puede usar parámetros preparados para nombres de columna, creando una superficie de ataque única.</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="challenge-card-indigo p-6 rounded-lg">
                                        <h5 class="font-bold text-indigo-300 mb-3">🔐 6. Subconsulta Maliciosa - Subquery Injection</h5>
                                        <div class="space-y-3">
                                            <p class="text-sm text-gray-300"><strong>Escenario:</strong> Sistema de permisos con subconsultas que puede ser manipulado para acceder a datos restringidos.</p>
                                            
                                            <div class="bg-gray-800/50 p-3 rounded text-xs">
                                                <p class="text-gray-400 mb-1">Consulta vulnerable:</p>
                                                <code class="text-red-300">SELECT * FROM documents WHERE owner_id = (SELECT id FROM users WHERE username = '$user')</code>
                                            </div>
                                            
                                            <div class="grid md:grid-cols-2 gap-3 text-xs">
                                                <div>
                                                    <p class="font-semibold text-indigo-300 mb-1">🎯 Objetivos de Aprendizaje:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• Manipulación de subconsultas</li>
                                                        <li>• Bypass de controles de acceso</li>
                                                        <li>• Técnicas de escalada de privilegios</li>
                                                        <li>• Explotación de lógica compleja</li>
                                                    </ul>
                                                </div>
                                                <div>
                                                    <p class="font-semibold text-green-300 mb-1">🛠️ Técnicas a Practicar:</p>
                                                    <ul class="text-gray-400 space-y-1">
                                                        <li>• <code class="text-green-300">admin' UNION SELECT 1 --</code></li>
                                                        <li>• <code class="text-green-300">' OR 1=1) OR ('a'='a</code></li>
                                                        <li>• <code class="text-green-300">') UNION SELECT id FROM users WHERE role='admin' --</code></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="bg-indigo-800/30 p-3 rounded border border-indigo-600">
                                                <p class="text-xs text-indigo-200"><strong>💡 Pista:</strong> Manipula la subconsulta para que devuelva el ID de un usuario con más privilegios o múltiples IDs.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-8 bg-gradient-to-r from-gray-800/50 to-gray-700/50 p-6 rounded-lg border border-gray-600">
                                    <h4 class="font-bold text-gray-300 mb-3">🎓 Consejos para Resolver los Retos</h4>
                                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                                        <div>
                                            <p class="font-semibold text-blue-300 mb-2">📝 Metodología:</p>
                                            <ul class="text-gray-400 space-y-1 text-xs">
                                                <li>1. Lee las pistas y entiende el contexto</li>
                                                <li>2. Analiza la consulta SQL generada</li>
                                                <li>3. Identifica el punto de inyección</li>
                                                <li>4. Prueba payloads básicos primero</li>
                                                <li>5. Observa las respuestas y errores</li>
                                                <li>6. Refina tu técnica según el resultado</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-green-300 mb-2">🔍 Panel de Análisis:</p>
                                            <ul class="text-gray-400 space-y-1 text-xs">
                                                <li>• Consulta SQL real ejecutada</li>
                                                <li>• Resultados de la base de datos</li>
                                                <li>• Tiempo de ejecución</li>
                                                <li>• Mensajes de error (si los hay)</li>
                                                <li>• Estado de éxito/fallo del reto</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Desarrollo Seguro -->
                    <div class="theory-section" id="protection">
                        <div class="section-card">
                            <h3 class="section-title mb-2">🛡️ Desarrollo Seguro - Prevención de SQLi</h3>
                            <div class="text-content">
                                <p class="text-lg text-gray-300 mb-6">Implementa estas prácticas de desarrollo seguro para prevenir vulnerabilidades SQLi desde el diseño:</p>
                                
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="protection-card-blue p-6 rounded-lg">
                                        <h4 class="font-bold text-blue-300 mb-4">🛡️ Consultas Preparadas (Prepared Statements)</h4>
                                        <p class="text-sm text-gray-300 mb-3">La defensa más efectiva contra SQLi. Separa la lógica SQL de los datos.</p>
                                        
                                        <div class="space-y-4">
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">✅ PHP/PDO - SEGURO:</p>
                                                <pre class="code-block text-xs">$stmt = $pdo->prepare("SELECT * FROM users WHERE username = ? AND password = ?");
$stmt->execute([$username, $password]);
$user = $stmt->fetch();</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">✅ Node.js/MySQL2 - SEGURO:</p>
                                                <pre class="code-block text-xs">const query = 'SELECT * FROM users WHERE username = ? AND password = ?';
connection.execute(query, [username, password], (err, results) => {
    // Manejo seguro de resultados
});</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-blue-300 mb-2">✅ Python/SQLite3 - SEGURO:</p>
                                                <pre class="code-block text-xs">cursor.execute("SELECT * FROM users WHERE username = ? AND password = ?", 
               (username, password))
user = cursor.fetchone()</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-4 bg-green-800/30 p-3 rounded text-xs border border-green-600">
                                            <strong class="text-green-300">✅ Ventaja:</strong> <span class="text-green-200">Los parámetros se tratan como datos literales, nunca como código SQL ejecutable.</span>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-red p-6 rounded-lg">
                                        <h4 class="font-bold text-red-300 mb-4">❌ Código VULNERABLE vs ✅ SEGURO</h4>
                                        <p class="text-sm text-gray-300 mb-3">Comparación directa de implementaciones inseguras y seguras.</p>
                                        
                                        <div class="space-y-4">
                                            <div>
                                                <p class="font-semibold text-xs text-red-300 mb-2">❌ VULNERABLE - Concatenación:</p>
                                                <pre class="code-block text-xs bg-red-900/30 border border-red-600">// ¡NUNCA hagas esto!
$query = "SELECT * FROM users WHERE id = " . $_GET['id'];
$result = mysqli_query($conn, $query);</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-green-300 mb-2">✅ SEGURO - Validación + Prepared:</p>
                                                <pre class="code-block text-xs bg-green-900/30 border border-green-600">// Validar entrada
if (!is_numeric($_GET['id'])) {
    die("ID inválido");
}
$stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
$stmt->execute([$_GET['id']]);</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-red-300 mb-2">❌ VULNERABLE - ORDER BY dinámico:</p>
                                                <pre class="code-block text-xs bg-red-900/30 border border-red-600">// Vulnerable a SQLi
$order = $_GET['sort'];
$query = "SELECT * FROM products ORDER BY $order";</pre>
                                            </div>
                                            
                                            <div>
                                                <p class="font-semibold text-xs text-green-300 mb-2">✅ SEGURO - Lista blanca para ORDER BY:</p>
                                                <pre class="code-block text-xs bg-green-900/30 border border-green-600">// Lista blanca de columnas permitidas
$allowed_columns = ['name', 'price', 'category'];
$sort = in_array($_GET['sort'], $allowed_columns) ? $_GET['sort'] : 'name';
$query = "SELECT * FROM products ORDER BY $sort";</pre>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-purple p-6 rounded-lg">
                                        <h4 class="font-bold text-purple-300 mb-4">🔍 Validación y Sanitización</h4>
                                        <p class="text-sm text-gray-300 mb-3">Implementa múltiples capas de validación para entrada del usuario.</p>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-xs text-purple-300 mb-2">Validación de Tipos:</p>
                                                <pre class="code-block text-xs">// Validar ID numérico
function validateId($id) {
    if (!is_numeric($id) || $id <= 0) {
        throw new InvalidArgumentException("ID inválido");
    }
    return (int)$id;
}

// Validar email
function validateEmail($email) {
    $email = filter_var($email, FILTER_SANITIZE_EMAIL);
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        throw new InvalidArgumentException("Email inválido");
    }
    return $email;
}</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3 bg-purple-800/30 p-3 rounded text-xs border border-purple-600">
                                            <strong class="text-purple-300">💡 Regla:</strong> <span class="text-purple-200">Valida en el cliente para UX, pero SIEMPRE valida en el servidor para seguridad.</span>
                                        </div>
                                    </div>
                                    
                                    <div class="protection-card-amber p-6 rounded-lg">
                                        <h4 class="font-bold text-amber-300 mb-4">⚙️ Configuración Segura de Base de Datos</h4>
                                        <p class="text-sm text-gray-300 mb-3">Configura tu SGBD siguiendo el principio de menor privilegio.</p>
                                        
                                        <div class="space-y-3">
                                            <div>
                                                <p class="font-semibold text-xs text-amber-300 mb-2">Usuario de aplicación limitado:</p>
                                                <pre class="code-block text-xs">-- Crear usuario específico para la aplicación
CREATE USER 'webapp'@'localhost' IDENTIFIED BY 'strong_password';

-- Solo permisos necesarios
GRANT SELECT, INSERT, UPDATE ON myapp.users TO 'webapp'@'localhost';
GRANT SELECT ON myapp.products TO 'webapp'@'localhost';

-- NO otorgar permisos administrativos
-- REVOKE ALL ON *.* FROM 'webapp'@'localhost';</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3 bg-amber-800/30 p-3 rounded text-xs border border-amber-600">
                                            <strong class="text-amber-300">🔐 Principio:</strong> <span class="text-amber-200">Si tu aplicación es comprometida, el atacante solo tendrá los permisos mínimos necesarios.</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-8 protection-card-gray p-6 rounded-lg">
                                    <h4 class="font-bold text-gray-300 mb-4">🛠️ Framework y ORM Seguros</h4>
                                    <div class="grid md:grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <p class="font-semibold text-blue-300 mb-2">🔷 Laravel (PHP)</p>
                                            <pre class="code-block text-xs">// Eloquent ORM - Automáticamente seguro
User::where('email', $email)->first();

// Query Builder con parámetros
DB::table('users')
  ->where('active', 1)
  ->where('email', $email)
  ->get();</pre>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-green-300 mb-2">🟢 Express + Sequelize (Node.js)</p>
                                            <pre class="code-block text-xs">// Sequelize ORM
const user = await User.findOne({
  where: {
    email: email,
    active: true
  }
});

// Raw query con parámetros
await sequelize.query(
  'SELECT * FROM users WHERE email = ?',
  { replacements: [email] }
);</pre>
                                        </div>
                                        <div>
                                            <p class="font-semibold text-yellow-300 mb-2">🐍 Django (Python)</p>
                                            <pre class="code-block text-xs"># Django ORM - Automáticamente seguro
user = User.objects.filter(
    email=email,
    is_active=True
).first()

# Raw query con parámetros
users = User.objects.raw(
    'SELECT * FROM users WHERE email = %s',
    [email]
)</pre>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4 bg-blue-800/30 p-4 rounded border border-blue-600">
                                        <h5 class="font-semibold text-blue-300 mb-2">📝 Checklist de Desarrollo Seguro:</h5>
                                        <ul class="text-xs text-blue-200 space-y-1">
                                            <li>✅ Usar siempre consultas preparadas o ORM seguro</li>
                                            <li>✅ Validar y sanitizar TODA entrada del usuario</li>
                                            <li>✅ Implementar listas blancas para campos dinámicos (ORDER BY, columnas)</li>
                                            <li>✅ Configurar usuario de DB con permisos mínimos</li>
                                            <li>✅ No mostrar errores de DB al usuario final</li>
                                            <li>✅ Implementar logging y monitoreo de consultas sospechosas</li>
                                            <li>✅ Realizar pruebas de penetración regulares</li>
                                            <li>✅ Mantener frameworks y dependencias actualizadas</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Herramientas y Referencias -->
                    <div class="theory-section" id="tools">
                        <div class="section-card">
                            <h3 class="section-title mb-2">🛠️ Herramientas y Referencias</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">SQLMap</h4>
                                    <p>Automatiza la detección y explotación de SQLi. Muy útil para pruebas de caja negra.</p>
                                    <a href="https://sqlmap.org/" target="_blank" class="external-link">Visitar SQLMap</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">Burp Suite</h4>
                                    <p>Proxy para interceptar y modificar peticiones HTTP. Permite manipular parámetros y automatizar ataques.</p>
                                    <a href="https://portswigger.net/burp" target="_blank" class="external-link">Descargar Burp Suite</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">CyberChef</h4>
                                    <p>Herramienta web para decodificar, codificar y manipular datos. Útil para analizar respuestas y payloads.</p>
                                    <a href="https://gchq.github.io/CyberChef/" target="_blank" class="external-link">Usar CyberChef</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">DB Fiddle</h4>
                                    <p>Entorno online para probar consultas SQL en diferentes motores.</p>
                                    <a href="https://www.db-fiddle.com/" target="_blank" class="external-link">Probar DB Fiddle</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">SecLists</h4>
                                    <p>Listas de payloads y diccionarios para pruebas de seguridad, incluyendo SQLi.</p>
                                    <a href="https://github.com/danielmiessler/SecLists" target="_blank" class="external-link">Ver SecLists</a>
                                </div>
                                <div class="tool-card">
                                    <h4 class="font-bold text-blue-600 dark:text-blue-400">PayloadAllTheThings</h4>
                                    <p>Repositorio con ejemplos de payloads para SQLi y otras vulnerabilidades.</p>
                                    <a href="https://github.com/swisskyrepo/PayloadsAllTheThings" target="_blank" class="external-link">Ver PayloadAllTheThings</a>
                                </div>
                            </div>
                        </div>
                        <div class="section-card">
                            <h3 class="section-title mb-2">🌐 Enlaces y Recursos Externos</h3>
                            <ul class="list-disc ml-6 text-blue-700 dark:text-blue-300">
                                <li><a href="https://owasp.org/www-community/attacks/SQL_Injection" target="_blank" class="external-link">Guía OWASP SQL Injection</a></li>
                                <li><a href="https://portswigger.net/web-security/sql-injection" target="_blank" class="external-link">Guía de SQLi en PortSwigger</a></li>
                                <li><a href="https://www.hacksplaining.com/prevention/sql-injection" target="_blank" class="external-link">Hacksplaining: SQLi</a></li>
                                <li><a href="https://www.w3schools.com/sql/sql_injection.asp" target="_blank" class="external-link">W3Schools: SQL Injection</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <script>
        // Navegación de pestañas
        document.querySelectorAll('.theory-nav').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.theory-nav').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                const target = this.getAttribute('data-target');
                document.querySelectorAll('.theory-section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(target).classList.add('active');
            });
        });
    </script>
    <footer class="text-center mt-12 py-6 border-t border-gray-200 dark:border-gray-700">
        <p class="text-gray-600 dark:text-gray-400 text-sm">
            Centro de Aprendizaje SQLI <br>
            made with ❤️ by <a href="https://www.linkedin.com/in/martin-munoz/" target="_blank" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-colors">Martin Muñoz</a>
        </p>
    </footer>
</body>
</html>
